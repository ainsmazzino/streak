{% extends 'base.html' %}

{% block content %}
<div class="card">
    <h1 style="font-size: 2rem; margin-bottom: 1rem; color: #f0e6ff;">✨ Daily Check-in</h1>

    {% if has_checked_in %}
        <p style="font-size: 1.2rem; background: rgba(46, 204, 113, 0.2); padding: 1rem; border-radius: 8px; color: #2ecc71;">
            ✅ You've already checked in today!
        </p>
    {% else %}
        <form method="POST" style="display: flex; flex-direction: column; gap: 1rem;">
            {% csrf_token %}

            <label style="display: flex; align-items: center; gap: 0.5rem; font-weight: 500;">
                <input type="checkbox" required style="transform: scale(1.3); accent-color: #a66cff;">
                I confirm I completed my task today
            </label>

            <div style="display: flex; flex-direction: column;">
                <label for="note" style="margin-bottom: 0.3rem;">What did you accomplish today?</label>
                <textarea 
                    name="note" 
                    id="note" 
                    required 
                    placeholder="e.g. Completed 3 DSA problems, worked out..."
                    style="
                        background: rgba(255, 255, 255, 0.15);
                        border: 1px solid rgba(255, 255, 255, 0.3);
                        border-radius: 8px;
                        color: white;
                        padding: 0.75rem;
                        font-size: 1rem;
                        backdrop-filter: blur(8px);
                        resize: vertical;
                    ">
                </textarea>
            </div>

            <button 
                type="submit" 
                style="
                    background: rgba(155, 89, 182, 0.85);
                    color: white;
                    padding: 0.6rem 1.2rem;
                    border: none;
                    border-radius: 8px;
                    font-weight: bold;
                    font-size: 1rem;
                    cursor: pointer;
                    transition: background 0.3s ease;
                    align-self: flex-start;
                "
                onmouseover="this.style.background='rgba(142, 68, 173, 1)'"
                onmouseout="this.style.background='rgba(155, 89, 182, 0.85)'"
            >
                Submit
            </button>
        </form>
    {% endif %}
</div>
{% endblock %}
